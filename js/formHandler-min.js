$(function(){$("input,textarea").jqBootstrapValidation({preventSubmit:!0,submitSuccess:function(a,c){var b;a.attr("action")||(c.preventDefault(),c=function(d){var f="./includes/"+d.attr("id")+".php";d.attr("template-path")&&(f=d.attr("template-path")+"/includes/"+d.attr("id")+".php");return f}(a),b={},a.find("input, textarea, option:selected").each(function(f){var g=$(this).val(),d=$(this).attr("id");$(this).is(":checkbox")?g=$(this).is(":checked"):$(this).is(":radio")?g=$(this).val()+" = "+$(this).is(":checked"):$(this).is("option:selected")&&(d=$(this).parent().attr("id")),b[d]=g}),$.ajax({url:c,type:"POST",data:b,cache:!1,success:function(){a.is("[success-msg]")?a.append("<div id='form-alert'><div class='alert alert-success'><button type='button' class='close' data-dismiss='alert' aria-hidden='true'>&times;</button><strong>"+a.attr("success-msg")+"</strong></div></div>"):window.location.replace(a.attr("success-url")),a.trigger("reset")},error:function(){0==$("#form-alert").length&&a.append("<div id='form-alert'><div class='alert alert-danger'><button type='button' class='close' data-dismiss='alert' aria-hidden='true'>&times;</button><strong>"+a.attr("fail-msg")+"</strong></div></div>")}}))},filter:function(){return $(this).is(":visible")}})});